<div class="centered">
    <b>Lista firm</b>
    <div *ngIf="error">
        <p>{{ error.status }} - {{error.error.message}}</p>
    </div>
</div><div>
        <table mat-table [dataSource]="companyList" class="mat-elevation-z8">
            <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef>Nazwa firmy</th>
                <td mat-cell *matCellDef="let element">{{element.name}}</td>
            </ng-container>
            <ng-container matColumnDef="address">
                <th mat-header-cell *matHeaderCellDef>Adres firmy</th>
                <td mat-cell *matCellDef="let element">{{element.address}}, {{element.city}}</td>
            </ng-container>
            <ng-container matColumnDef="category">
                <th mat-header-cell *matHeaderCellDef>Kategoria</th>
                <td mat-cell *matCellDef="let element">
                    {{element.category == 'wyko' ? 'Wykonawca' : (element. category == 'prod' ? 'Producent betonu' : "Laboratorium")}}
                </td>
            </ng-container>
            <ng-container matColumnDef="edit" >
                <th mat-header-cell *matHeaderCellDef>Edytuj firmę</th>
                <td mat-cell *matCellDef="let element">
                    <button mat-mini-fab color="primary" routerLink="/company/{{element.id}}">
                        <mat-icon>menu</mat-icon>
                    </button>
                </td>
            </ng-container>
            <ng-container matColumnDef="delete">
                <th mat-header-cell *matHeaderCellDef>Usuń firmę</th>
                <td mat-cell *matCellDef="let element">
                    <button mat-mini-fab color="warn" (click)="deleteCompany(element.id)">
                        <mat-icon>delete</mat-icon>
                    </button>
                </td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="companyListColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: companyListColumns"></tr>
        </table>
</div>
